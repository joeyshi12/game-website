const solids = new Set();
solids.add(18);
solids.add(19);
solids.add(20);
solids.add(66);
solids.add(68)
solids.add(210);
solids.add(211);
solids.add(114);
solids.add(116);
solids.add(115);
const platforms = new Set();
platforms.add(309);
platforms.add(310);
platforms.add(311);
platforms.add(581);
platforms.add(582);
platforms.add(583);
platforms.add(730);
platforms.add(731);
platforms.add(732);
const data0 = [0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,581,583,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,581,582,582,583,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,727,727,727,727,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,535,535,535,535,0,70,309,310,311,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,875,829,875,875,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,875,875,875,875,0,70,0,0,0,0,309,310,311,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,535,535,535,535,0,70,0,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,875,875,829,875,0,70,0,0,0,0,581,582,582,582,582,582,582,582,582,582,583,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,70,0,875,875,875,875,0,70,0,0,0,0,629,875,875,875,875,875,875,875,875,875,629,0,0,0,309,310,311,0,0,0,0,0,0,0,730,731,732,0,70,0,535,535,535,535,0,70,0,0,0,0,629,875,875,875,727,727,727,875,875,875,629,0,0,0,0,0,0,0,0,0,0,0,0,0,778,779,780,0,70,0,727,727,727,727,0,70,0,259,0,0,629,875,875,727,727,727,727,727,875,875,629,0,0,0,0,0,0,0,309,310,0,0,0,0,781,435,781,0,70,0,727,727,432,727,0,70,0,307,0,0,629,727,727,727,727,485,727,727,727,727,629,0,336,0,673,96,673,673,0,0,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const data1 = [0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,581,582,583,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,629,432,631,0,154,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,260,0,0,154,0,0,0,0,0,18,19,19,19,19,19,19,19,19,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,308,0,0,154,0,0,0,0,0,66,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,18,19,19,19,20,0,0,0,0,66,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,66,0,0,67,68,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,66,0,0,0,68,0,0,0,0,66,0,0,0,67,0,0,0,0,0,0,309,310,311,0,0,0,0,154,309,310,311,0,0,0,0,154,309,310,311,0,66,67,0,0,68,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,0,0,0,0,0,0,154,0,0,0,0,66,0,0,0,68,22,22,22,22,66,0,0,0,0,0,0,0,0,311,0,0,0,0,0,309,310,311,154,0,0,0,0,309,310,311,154,0,0,0,0,66,0,0,0,210,19,19,19,19,211,0,67,0,0,0,0,0,0,0,0,0,449,0,0,0,0,0,154,0,0,50,50,49,0,0,154,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,211,0,0,67,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const data2 = [0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,154,0,0,0,0,0,0,66,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,154,0,0,0,0,0,0,66,0,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,154,0,0,0,0,0,0,66,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,68,0,0,0,0,154,0,0,0,0,0,0,66,0,0,0,0,0,66,0,0,0,0,0,0,0,162,115,115,115,115,115,115,115,115,115,115,115,115,115,116,0,0,0,0,154,0,0,0,0,401,0,66,0,0,0,0,0,66,0,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,18,19,19,19,19,211,0,0,0,0,0,66,0,67,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,66,0,0,0,0,0,19,20,309,310,311,114,115,115,115,115,115,115,115,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,154,0,66,0,0,67,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,19,19,19,19,19,19,19,211,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,309,310,311,0,0,0,66,0,0,0,0,0,0,0,67,0,0,0,0,0,67,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,309,310,311,0,0,0,0,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,0,0,309,310,311,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,309,310,311,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,210,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,211,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
const enemyPositions0 = [[160, 350]];
const enemyPositions1 = [[475, 390], [770, 220]];
const enemyPositions2 = [];

class Map {
    constructor(data, numRows, numCols, leftMap = null, rightMap = null) {
        this.data = data;
        this.numRows = numRows;
        this.numCols = numCols;
        this.leftMap = leftMap;
        this.rightMap = rightMap;
    }

    setRightMap(map) {
        this.rightMap = map;
        map.leftMap = this;
    }

    setLeftMap(map) {
        this.leftMap = map;
        map.rightMap = this;
    }

    getTile(i, j) {
        if (i < 0 || i >= this.numRows || j < 0 || j >= this.numCols) {
            return -1;
        }
        return this.data[i * this.numCols + j];
    }

    setTile(tile, i, j) {
        this.data[i * this.numCols + j] = tile;
    }

    draw() {
        for (let i = 0; i < this.numRows; i++) {
            for (let j = 0; j < this.numCols; j++) {
                const x = j * unitLength;
                const y = i * unitLength;
                const sx = (this.data[i*this.numCols + j] % 48) * 16 + 0.5;
                const sy = Math.floor(this.data[i*this.numCols + j] / 48) * 16 + 0.5;
                image(spriteSheet, x - camera.x, y - camera.y, unitLength, unitLength, sx, sy, 15, 15);
            }
        }
    }
}
